@model TrackIt.ViewModels.ProjectListViewModel

@{
    ViewBag.Title = "List";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" />


<div class="d-flex flex-row justify-content-between">
    <h2>Projects</h2>
    <button type="button" class="btn btn-outline-success" onclick="location.href='@Url.Action("New", "Projects")'">New Project <i class="fas fa-plus-circle"></i></button>
</div>
<hr class="my-4">

@foreach (var project in Model.Projects)
{
<div class="jumbotron jumbotron-fluid">
    <div class="container">
        <h2 class="text-center">@project.Name</h2>

        <h6>Status: <small>@project.ProjectStatus.Name</small></h6>
        <div class="d-flex justify-content-around">
            <div><p>Open: @Model.TicketStats[project.Id]["Open"]</p> </div>
            <div><p>In Progress: @Model.TicketStats[project.Id]["In Progress"]</p> </div>
            <div><p>Closed: @Model.TicketStats[project.Id]["Closed"]</p> </div>
            <div><p>Resolved: @Model.TicketStats[project.Id]["Resolved"]</p></div>
        </div>
    </div>
    <div class="d-flex flex-row justify-content-around">

        <button type="button" class="btn btn-outline-primary" onclick="location.href='@Url.Action("GetTicketsByProject", "Tickets", new { projectId = project.Id})'">Open Project <i class="far fa-edit"></i></button>
        <button type="button" class="btn btn-outline-warning" onclick="location.href='@Url.Action("Edit", "Projects", new { id = project.Id})'">Edit <i class="far fa-edit"></i></button>
    </div>

</div>
}

